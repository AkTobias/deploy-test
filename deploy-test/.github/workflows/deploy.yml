name: Deploy to GitHub Pages

on:
   push:
      branches:
         - main # Change if your default branch is different

permissions:
   contents: write # Required for deployment

jobs:
   build-and-deploy:
      runs-on: ubuntu-latest

      steps:
         - name: Checkout Repository
           uses: actions/checkout@v4

         - name: Setup Node.js
           uses: actions/setup-node@v4
           with:
              node-version: 20 # Use a supported Node.js version

         - name: Install Dependencies
           run: npm install

         - name: Build Project
           run: npm run build

         - name: Upload Artifact
           uses: actions/upload-artifact@v4 # Updated version
           with:
              name: build-artifact
              path: build # Change this if your build folder is different

         - name: Deploy to GitHub Pages
           uses: JamesIves/github-pages-deploy-action@v4
           with:
              branch: gh-pages
              folder: build # Change this if necessary
